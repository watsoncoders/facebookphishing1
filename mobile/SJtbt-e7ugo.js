if (self.CavalryLogger) { CavalryLogger.start_js(["NuGj1"]); }

__d("MVerifyCache",["MCache"],(function a(b,c,d,e,f,g,h){var i=function i(j){var k=h.VIEWER_KEY,l=h.getItem(k);if(l!==j.viewer){l&&h.clear();h.setItem(k,j.viewer,true)}};g.main=i}),null);
__d("MPageError",["$","DOM","LoadingIndicator","MErrorCodes","JSLog","MPageController","Stratcom"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o=h("mErrorView"),p=i.find(o,"div","error-message");n.listen("click","MPageError:retry",m.reload);n.listen("m:page:loading",null,function(q){i.hide(o)});n.listen("m:page:error",null,function(q){var r=q.getData(),s=k.getMessage(r);j.hide();i.setContent(p,s);i.show(o);l.warn("Error code: %s",r)})}),null);
__d("MExceptionConstants",[],(function a(b,c,d,e,f,g){var h={MAX_STACK_LENGTH:3e3,MAX_FUNCTION_CODE_LENGTH:1e3,MAX_ARGUMENT_VALUE_LENGTH:150,MAX_SCRIPT_URI_LENGTH:500,MAX_SCRIPT_TEXT_LENGTH:3e3,MAX_LOG_HISTORY_LENGTH:5e3,MAX_SINGLE_ENTRY_LENGTH:300,MANAGED_TAG:"[managed]",NATIVE_TAG:"[native]",SOURCE_TAG:"[source]",JSON_TAG:"[json]",PROPERTIES_TAG:"[properties]",FAILURE_TAG:"[failure]"};f.exports=h}),null);
__d("MExceptionHandler",["ex","ErrorUtils","JSLog"],(function a(b,c,d,e,f,g,h,i,j){if(window.onerror!==i.onerror)j.error("ErrorUtils failed to assign window.onerror handler");function k(l,m){i.reportError(new Error(h("fwHandleException: %s, context: %s",l,m)))}b.fwHandleException=k}),null);
__d("MExceptionUtilities",["MExceptionConstants"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={argsToString:function j(k){var l=[];for(var m=0;m<k.length;m++)l.push(i.initAndTail(String(k[m]),h.MAX_ARGUMENT_VALUE_LENGTH));return"["+l.join(", ")+"]"},initAndTail:function j(k,l){if(k.length<=l)return k;return k.slice(0,Math.ceil(l/2-1.5))+"..."+k.slice(k.length-Math.floor(l/2-1.5))},initAndTailArray:function j(k,l){__p&&__p();var m=[],n=[],o=m,p=0,q=k.length-1,r=0,s=0,t=0,u=0;while(p<=q&&u<l)if(s<=t){m.push(k[p]);s+=k[p].length;u+=k[p].length;o=m;r=m.length-1;p++}else{n.unshift(k[q]);t+=k[q].length;u+=k[q].length;o=n;r=0;q--}if(!(u<=l&&p>q)&&o.length>0){var v=Math.min(l-u+o[r].length,3);o[r]=new Array(v+1).join(".")}return m.concat(n)},tail:function j(k,l){if(k.length<=l)return k;return"..."+k.substr(k.length-l+3)},tailArray:function j(k,l){__p&&__p();var m=[],n=k.length-1,o=0;while(n>=0&&o<l){m.unshift(k[n]);o+=k[n].length;n--}if(!(o<=l&&n<0)&&m.length>0){var p=Math.min(l-o+m[0].length,3);m[0]=new Array(p+1).join(".")}return m}};f.exports=i}),null);
__d("MLogger",["CurrentUser","ErrorUtils","JSErrorExtra","JSErrorPlatformColumns","LogHistory","MExceptionConstants","MExceptionUtilities","SiteData","MRequest","ScriptPath","idx","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t="This error is used for stack trace capturing only",u=Date.now(),v={_LOG_PAGE:"/a/logs",_MAX_QUEUE_SIZE:100,_DEFAULT_SUB_TYPE:"m_js_err",_messageQueue:[],_flushLogs:function w(){if(v._messageQueue.length===0)return;if(!window.FB_GKS.mobile_js_show_debug&&!0&&!window.FB_GKS.mobile_js_log_error)return;new p(v._LOG_PAGE).setData({message:JSON.stringify({data:v._messageQueue})}).setIgnoreErrors(true).send();v._messageQueue.length=0},_log:function w(x,y,z,A){__p&&__p();if(v._messageQueue.length===0)s(v._flushLogs,1e3);if(v._messageQueue.length<v._MAX_QUEUE_SIZE){var B,C=window.location,D=C.hash,E=D.indexOf("/"),F=E>-1?D.substr(E):C.pathname+C.search;A=i.normalizeError(A);var G;if(typeof A.stack==="string"&&Array.isArray(A.stackFrames)){G=n.initAndTailArray(A.stack.split("\n"),m.MAX_STACK_LENGTH);G=A.stackFrames.slice(0,G.length);G=G.map(function(J){var K={};Object.assign(K,J);delete K.text;return K})}var H,I=p.getContextualInstance();if(I&&!I.getCORS())H=I.getTransport().getResponseHeader("X-FB-Debug");v._messageQueue.push({log_type:"reliability",sub_type:y,time:Date.now(),path:F,uid:h.getID(),features:{managed_stack_trace:!!window.__STACK__,cross_origin_inline:!!window.__CORS_XHR__},log_history:v._getLogHistoryEntries(),msg:{type:x,args:z,stack:G,name:A.name,revision:o.client_revision,push_phase:o.push_phase,script:A.script,line:A.line,column:A.column,guards:A.guardList,page_age:Date.now()-u,extra:v._getExtraTags(A),app_id:k.app_id,x_fb_debug:H,script_path:(B=q.getPageInfo())!=null?B.scriptPath:B}})}},_getLogHistoryEntries:function w(){if(!b.FB_GKS.m_js_log_history)return;var x=l.getEntries().map(function(y){return n.initAndTail("["+y.date+"] ("+y.level+") "+y.category+": "+y.event+" "+n.initAndTail(y.args,m.MAX_ARGUMENT_VALUE_LENGTH),m.MAX_SINGLE_ENTRY_LENGTH)});return n.tailArray(x,m.MAX_LOG_HISTORY_LENGTH)},_getExtraTags:function w(x){__p&&__p();var y=x.extra||{},z={};Object.keys(j).forEach(function(A){if(j[A])z[A]=true});Object.keys(y).forEach(function(A){if(y[A])z[A]=true;else if(z[A])delete z[A]});return Object.keys(z)},error:function w(x,y){for(var z=arguments.length,A=Array(z>2?z-2:0),B=2;B<z;B++)A[B-2]=arguments[B];v._log(x.type||"mustfix",v._DEFAULT_SUB_TYPE,[y].concat(A),x)}};i.addListener(function(w){__p&&__p();var x;if(w.messageWithParams){x=w.messageWithParams;v.error.apply(v,[w].concat(x))}else if(w.messageObject)if(w.message==="[object Event]"){var event=w.messageObject,y=event.target||event.srcElement;if(y!==event.currentTarget)x=['Event "%s" bubbling from "%s" reaching "%s"',event.type,String(y),String(event.currentTarget)];else if(y&&y.nodeName==="SCRIPT")x=['Event "%s" from script element with src "%s", handler: %s',event.type,y.getAttribute("src"),String(y["on"+event.type])];else x=['Unknown event "%s" from element "%s"',event.type,y.nodeName];v.error.apply(v,[w].concat(x))}else v.error(w,w.message);else v.error(w,w.message)});f.exports=v}),null);
__d("DeviceBasedLoginRedesignChooserUser",["EventListener","Keys"],(function a(b,c,d,e,f,g,h,i){var j={attachHandlerToElement:function k(l,m){h.listen(l,"click",function(){m.submit()});h.listen(l,"keyup",function(n){if(n.keyCode===i.RETURN)m.submit()})}};f.exports=j}),null);
__d("MExceptionReportingMarauderLogger",["ErrorUtils"],(function a(b,c,d,e,f,g,h){function i(k){e(["MarauderLogger"],function(l){l.log("js_exception",undefined,k);k=null})}function j(k,l,m){i({message:k,context:l,stack_trace:m})}h.addListener(function(k){i(k)});f.exports.log=j}),null);
__d("MPopupSmallCta",["MAnimator","Style","MViewport","ge"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=150,m=1e3,n=214,o={show:function p(q,r,s){this._expandingCta=q;this._ctaUnit=r;this._closeIcon=s;this._ctaVisible=false;this._ctaShownOnce=false;this._ctaClosed=false;window.addEventListener("load",this._init.bind(this))},_init:function p(){__p&&__p();var q=k("header"),r=k("header-notices"),s=k("mobile_login_bar");this._scrollThreshold=0;this._height=n;if(q){i.set(q,"z-index","0");var t=q.clientHeight;if(t)this._scrollThreshold+=t}if(r){i.set(r,"z-index","0");var u=r.clientHeight;if(u)this._scrollThreshold+=u}if(s){var v=s.clientHeight;if(v){this._scrollThreshold+=v;this._height=v}}setInterval(this._updateCTA.bind(this),m);this._closeIcon.addEventListener("click",function(w){this._ctaClosed=true;this._hideCTA()}.bind(this))},_hideCTA:function p(){var q=this._expandingCta.clientHeight;h.play(q,0,l,function(r){return i.set(this._expandingCta,"height",Math.round(r)+"px")}.bind(this));this._ctaVisible=false;clearTimeout(this._timerId)},_showCTA:function p(){if(this._ctaVisible)return;i.set(this._ctaUnit,"margin-top","0px");i.set(this._expandingCta,"background","none");h.play(0,this._height,l,function(q){return i.set(this._expandingCta,"height",Math.round(q)+"px")}.bind(this));this._ctaVisible=true;this._ctaShownOnce=true;clearTimeout(this._timerId)},_updateCTA:function p(){__p&&__p();var q=j.getHeight();if(q<this._height)if(this._ctaVisible)this._hideCTA();else return;var r=this._scrollThreshold;if(!this._ctaVisible&&!this._ctaClosed&&j.getScrollTop()>r)this._showCTA();if(this._ctaVisible&&j.getScrollTop()<r)this._hideCTA()}};f.exports=o}),null);
__d("TimeSpentArray",["Banzai","pageID","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=2,l=k*32,m,n,o,p,q,r,s,t,u,v={},w;function x(){return{timeoutDelayMap:v,nextDelay:w,timeoutInSeconds:o}}function y(){if(m){var G=Date.now();if(G>q)s=Math.min(l,Math.ceil(G/1e3-p));var H=D();if(H)m(H,w)}C()}function z(){A();n=j(y,o*1e3)}function A(){if(n){clearTimeout(n);n=null}}function B(G){__p&&__p();p=G;q=p*1e3;r=[1];for(var H=1;H<k;H++)r.push(0);s=1;t+=1;u+=1;var I=u.toString()+"_delay";w=v[I];if(w===undefined)w=v.delay;var J=u.toString()+"_timeout",K=v[J];if(K===undefined)K=v.timeout;K=Math.min(K,l);o=K||l;z()}function C(){A();r=null}function D(){if(!r)return null;return{tos_id:i,start_time:p,tos_array:r.slice(0),tos_len:s,tos_seq:u,tos_cum:t}}function E(G){if(G>=q&&G-q<1e3)return;F(Math.floor(G/1e3))}function F(G){__p&&__p();var H=G-p;if(H<0||H>=l)y();if(!r)B(G);else{r[H>>5]|=1<<(H&31);s=H+1;t+=1;q=G*1e3}}f.exports={init:function G(H,I,J){__p&&__p();t=0;u=-1;m=H;if(typeof I=="object"&&I!==null)v=I;else v={};if(!J)J=Date.now();B(Math.floor(J/1e3));h.subscribe(h.SHUTDOWN,y)},update:function G(H){E(H)},get:function G(){return D()},ship:function G(){y()},reset:function G(){C()},testState:function G(){return x()}}}),null);
__d("TimeSpentImmediateActiveSecondsLogger",["Banzai","ImmediateActiveSecondsConfig","ScriptPath"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k="immediate_active_seconds",l={signal:true,retry:true},m=i.sampling_rate,n=i.ias_bucket,o=0;function p(r){if(m<=0)return false;var s=Math.floor(r/1e3)%m;return s===n}function q(r){if(r>=o&&r-o<1e3)return;if(p(r)){var s={activity_time_ms:r,last_activity_time_ms:o,script_path:j.getTopViewEndpoint()};try{h.post(k,s,l)}catch(t){}}o=Math.floor(r/1e3)*1e3}f.exports={maybeReportActiveSecond:q}}),null);
__d("MTimeSpentBitArrayLogger",["Banzai","BanzaiODS","Stratcom","MarauderLogger","TimeSpentArray","TimeSpentImmediateActiveSecondsLogger","Visibility","isInIframe"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();function p(){l.ship()}function q(){var u=Date.now();l.update(u);m.maybeReportActiveSecond(u)}function r(u){k.log("time_spent_bit_array",undefined,u,undefined,undefined,undefined,Date.now())}function s(){return["gesturestart","mousedown","touchstart","scroll","keydown"]}function t(){var u=s();j.listen(u,null,q);var v="onpagehide"in window?["pagehide","blur"]:["blur"];j.listen(v,null,p);n.addListener("hidden",p)}f.exports={init:function u(v){if(o())return;var w=Date.now();l.init(r,null,w);t();m.maybeReportActiveSecond(w);i.bumpEntityKey("ms.time_spent.qa."+v,"time_spent.bits.js_initialized")},getMonitoredEvents:s}}),null);
__d("MBackButton",["Stratcom"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=false,j=function j(){if(i)return;i=true;h.listen("click","back-button",function(event){if(history.length>1){event.prevent();history.go(-1)}})};g.main=j}),null);
__d("MLink",["DOM","MLegacyDataStore","ErrorUtils","MLinkHack","JSLog","MPageCache","MPageController","Stratcom","URI"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q="standalone"in window.navigator&&window.navigator.standalone,r=false;function s(){__p&&__p();if(r)return;r=true;h.listen(document.documentElement,"click",null,function(event){__p&&__p();if(event.getPrevented())return;j.applyWithGuard(function(){__p&&__p();var t=event.getNode("tag:a");if(!t)return;var u=event.getRawEvent();if(t.getAttribute("onclick")||(u.which||u.button)>=2)return;k.remove(t);var v=t.getAttribute("href"),w=new p(v),x=w.getProtocol();if(x&&x!="http"&&x!="https")return;var y=w.getDomain(),z=v&&v.charAt(0),A=!z||/[\/#]/.test(z),B=w.getPort()?[y,w.getPort()].join(":"):y,C=A||location.host===B,D=y&&!/\.facebook.com$/i.test(y);if(D&&!o.hasSigil(t,"MLinkshim"))l.error("Loading an external URL without shimming: %s",v);var E=t.getAttribute("target");if((E=="_blank"||D)&&q)return;if(E=="_blank")window.open(v,"_blank");else if(w.getPath().toLowerCase().indexOf("/dialog/oauth")>-1)return;else if(E||x&&x+":"!==location.protocol||o.hasSigil(t,"no_mpc")||D)window.location=v;else if(v)if(v.indexOf("#")===0){var F=document.getElementById(v.substr(1));F&&F.scrollIntoView()}else{var G=i.get(t);if(G.fromCache)m.setScrollHistory(v,0);n.load(v,{replace:G.behavior==="replace-state",expiration:G.fromCache?n.HISTORY_EXPIRE_MS:null})}else{if(t.hasAttribute("data-sigil"))return;var H="",I=event.getTarget();while(I&&I!=document.body){H=H+" <"+I.nodeName;if(I.id)H=H+" id="+I.id;if(I.className)H=H+" class="+I.className;H=H+" >";I=I.parentNode}l.warn('handleClick: unknown link action: <a id="%s" class="%s" /> Path: %s',t.id,t.className,H);return}event.prevent()},null,[],null,"LinkController")})}g.setupListener=s}),null);
__d("MModalDialogInit",["MModalDialog"],(function a(b,c,d,e,f,g,h){if(!b.FW_ENABLED)h.init()}),null);
__d("XConsentCookieController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/cookie/consent/",{})}),null);
__d("XRefererFrameController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/common/referer_frame.php",{v:{type:"Int"}})}),null);
__d("DeferredCookie",["Cookie","Env","Map","SubscriptionList","XAsyncRequest","XConsentCookieController"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=new j(),o={shouldAddDefaultListener:true,defaultHandler:null,autoFlushCookies:false,sentConsentToServer:false,callbacks:new k(),addToQueue:function p(q,r,s,t,u,v,w){__p&&__p();if(this.autoFlushCookies){if(u)h.setWithoutChecksIfFirstPartyContext(q,r,s,t,w);else h.setWithoutChecks(q,r,s,t,w);return}if(n.has(q))return;n.set(q,{name:q,value:r,nMilliSecs:s,path:t,firstPartyOnly:u,secure:w});if(v)this.addDefaultInteractionListener()},flushAllCookiesWithoutRequestingConsentSeePrivacyXFNBeforeUsing:function p(){delete i.defer_cookies;n.forEach(function(q,r){if(q.firstPartyOnly)h.setWithoutChecksIfFirstPartyContext(q.name,q.value,q.nMilliSecs,q.path,q.secure);else h.setWithoutChecks(q.name,q.value,q.nMilliSecs,q.path,q.secure)});this.callbacks.fireCallbacks();this.autoFlushCookies=true;n=new j();this.removeDefaultInteractionListener()},flushAllCookies:function p(){this.flushAllCookiesWithoutRequestingConsentSeePrivacyXFNBeforeUsing();if(!this.sentConsentToServer){this.sentConsentToServer=true;var q=m.getURIBuilder().getURI();new l(q).send()}},removeDefaultInteractionListener:function p(){if(this.defaultHandler){if(window.removeEventListener)window.removeEventListener("click",this.defaultHandler,true);else if(document.detachEvent)document.detachEvent("onclick",this.defaultHandler);this.defaultHandler=null}},addDefaultInteractionListener:function p(){if(this.shouldAddDefaultListener){this.shouldAddDefaultListener=false;this.defaultHandler=this.baseInteractionHandler.bind(this);if(window.addEventListener)window.addEventListener("click",this.defaultHandler,true);else if(document.attachEvent)document.attachEvent("onclick",this.defaultHandler)}},registerCallbackOnCookieFlush:function p(q){if(this.autoFlushCookies)q();else this.callbacks.add(q)},baseInteractionHandler:function p(){this.flushAllCookies()},canEmbedThirdPartyPixel:function p(){if(i.no_cookies||i.defer_cookies)return false;return this.autoFlushCookies||n.size===0}};f.exports=o}),null);
__d("isOculusDotComURI",["URI"],(function a(b,c,d,e,f,g,h){var i=new RegExp("(^|\\.)oculus\\.com$","i"),j=["https"];function k(l){if(l.isEmpty()&&l.toString()!=="#")return false;if(!l.getDomain()&&!l.getProtocol())return false;return j.indexOf(l.getProtocol())!==-1&&i.test(l.getDomain())}f.exports=k}),null);
__d("NavigationMetricsEnumJS",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NAVIGATION_START:"navigationStart",UNLOAD_EVENT_START:"unloadEventStart",UNLOAD_EVENT_END:"unloadEventEnd",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",CONNECT_END:"connectEnd",SECURE_CONNECTION_START:"secureConnectionStart",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd",DOM_LOADING:"domLoading",DOM_INTERACTIVE:"domInteractive",DOM_CONTENT_LOADED_EVENT_START:"domContentLoadedEventStart",DOM_CONTENT_LOADED_EVENT_END:"domContentLoadedEventEnd",DOM_COMPLETE:"domComplete",LOAD_EVENT_START:"loadEventStart",LOAD_EVENT_END:"loadEventEnd"})}),null);
__d("LogHistoryListeners",["Clock","ErrorUtils","LogHistory"],(function a(b,c,d,e,f,g,h,i){var j=c("LogHistory").getInstance("sys");h.addListener(h.ANOMALY,function(k){j.warn("clock_anomaly",h.getSamples())});i.addListener(function(k){j.error("error",JSON.stringify({guard:k.guard,line:k.line,message:k.message,script:k.script,stack:k.stack}))})}),null);
__d("ScriptPathLogger",["Banzai","CurrentUser","ScriptPath","TimeSpentPageTransitionCause","URI","isInIframe"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n="script_path_change",o={scriptPath:null,categoryToken:null,extraData:{}},p=false,q="imp_id";function r(B){__p&&__p();var C=l.getNextURI?l.getNextURI():new l(window.location.href),D=C.getQueryData(),E=C.getPath();if(E.endsWith("/"))E=E.substr(0,E.length-1);var F=s(E,D);if(F){B.content_id=F;return}var G=t(E);if(G!==""){B.dest_topic_feed=G;return}if(u(E)){var H=D.queue_id;if(H)B.dest_srt_queue_id=H;return}}function s(B,C){__p&&__p();if(C.story_fbid)return C.story_fbid;if(C.fbid)return C.fbid;if(C.view==="permalink"&&C.id)return C.id;var D=/\/(posts|videos|notes|groups\/.*\/permalink)\//,E=/^[0-9]+$/;if(D.test(B)){var F=B.split("/"),G=F[F.length-1];if(E.test(G))return G}return""}function t(B){if(!B||B.search("/feed/topics/")==-1)return"";var C=B.split("/");return C[C.length-1]}function u(B){return!!B&&B.search("/intern/review/")!==-1}function v(B,C,D,E){__p&&__p();if(!p||m())return;var F=i.isLoggedIn(),G=F?h.VITAL:h.BASIC;if(F){E=E||{};E.via_banzai_vital="1"}var H={source_path:B.scriptPath,source_token:B.categoryToken,dest_path:C.scriptPath,dest_token:C.categoryToken,impression_id:C.extraData?C.extraData.imp_id:null,cause:D},I=D===k.PAGE_UNLOAD;if(!I)r(H);if(E!=null){var J=E,K=J.snowlift_content_id;if(!I&&K!=null){H.content_id=K;delete E.snowlift_content_id}H.extra_data=E}if(B.scriptPath===null)H.referrer=document.referrer;var L=j.getClickPointInfo();if(L)H.click_point_info=L;if(B.extraData)for(var M in B.extraData)if(M!=q)H["source_"+M]=B.extraData[M];if(C.extraData)for(var N in C.extraData)if(N!=q)H["dest_"+N]=C.extraData[N];if(B.topViewEndpoint)H.source_endpoint=B.topViewEndpoint;if(C.topViewEndpoint)H.dest_endpoint=C.topViewEndpoint;if(B.restored)H.source_restored=true;h.post(n,H,G);j.setClickPointInfo(null)}function w(){v(j.getSourcePageInfo()||o,j.getPageInfo()||o,k.PAGE_LOAD)}function x(B,C,D){v(B,C,k.TRANSITION,D)}function y(){v(j.getPageInfo()||o,o,k.PAGE_UNLOAD);j.shutdown()}var z=j.subscribe(function(B){if(p){var C=B.source,D=B.dest,E=B.cause,F=B.extraData;if(E)v(C||o,D||o,E,F);else if(C)x(C,D||o,F);else w()}});h.subscribe(h.SHUTDOWN,y);var A={startLogging:function B(){p=true;if(j.getPageInfo())w()},stopLogging:function B(){p=false;z.remove()},BANZAI_LOGGING_ROUTE:n};f.exports=A}),null);
__d("NavigationTimingHelper",["NavigationMetricsEnumJS","forEachObject","performance"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();function k(m,n){var o={};i(h,function(p){var q=n[p];if(q)o[p]=q+m});return o}var l={getAsyncRequestTimings:function m(n){if(!n||!j.timing||!j.getEntriesByName)return undefined;var o=j.getEntriesByName(n);if(o.length===0)return undefined;return k(j.timing.navigationStart,o[0])},getNavTimings:function m(){if(!j.timing)return undefined;return k(0,j.timing)}};f.exports=l}),null);
__d("PerfXFlusher",["Banzai","invariant"],(function a(b,c,d,e,f,g,h,i){var j="perfx_custom_logger_endpoint",k=["perfx_page","perfx_page_type","lid"];function l(n){k.forEach(function(o){return i(o in n,'PerfXFlusher: Field "%s" missing in the PerfX payload',o)})}var m={flush:function n(o){l(o);h.post(j,o,{signal:true})},registerToSendWithBeacon:function n(o){h.registerToSendWithBeacon(j,o)}};f.exports=m}),null);
__d("pageLoadedViaSWCache",[],(function a(b,c,d,e,f,g){function h(){return self.__SW_CACHE__===1}f.exports=h}),null);
__d("PerfXLogger",["DataAttributeUtils","NavigationMetrics","NavigationTimingHelper","PerfXFlusher","Set","forEachObject","pageLoadedViaSWCache","performanceAbsoluteNow","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q={},r={},s=65*1e3,t=["e2e","tti","all_pagelets_displayed","all_pagelets_loaded"],u={},v={_listenersSetUp:false,_setupListeners:function w(){__p&&__p();if(this._listenersSetUp)return;this._subscribeToNavigationMetrics();k.registerToSendWithBeacon(function(){var x=[];m(q,function(y,z){if(!q[z].sent){var A=this.getPayload(z,"unload fired");if(A!=null)x.push(A)}}.bind(this));q={};return x}.bind(this));this._listenersSetUp=true},_init:function w(x){__p&&__p();var y=x.lid;if(y==null)return;var z=r[y]||[];delete r[y];if(x.sw_controlled_tags){if(navigator.serviceWorker&&navigator.serviceWorker.controller)for(var A=0;A<x.sw_controlled_tags.length;A++)z.push(x.sw_controlled_tags[A]);delete x.sw_controlled_tags}q[y]=babelHelpers["extends"]({tags:new l(z),sent:false},x);this._registerTimeoutSendback(y);this._setupListeners()},initWithNavigationMetricsLID:function w(x,y){__p&&__p();var z=i.getFullPageLoadLid();if(!z)return;this._init(babelHelpers["extends"]({},y,{lid:z}));if(x&&x.always)for(var A=0;A<x.always.length;A++)v.addTag(z,x.always[A]);if(x&&x.swCache&&n())for(var B=0;B<x.swCache.length;B++)v.addTag(z,x.swCache[B])},init:function w(x,y){if(y!=null&&x.lid!=null)u[x.lid]=y;this._init(x)},addTag:function w(x,y){var z=q[x];if(z){z.tags.add(y);return}if(!r[x])r[x]=[];r[x].push(y)},addTagWithNavigationMetricsLID:function w(x){var y=i.getFullPageLoadLid();if(!y)return;v.addTag(y,x)},_registerTimeoutSendback:function w(x){var y=this._getFetchStart(x),z=s;if(y!=null)z-=o()-y;p(function(){return this._uploadPayload(x,"sendback time out")}.bind(this),z)},_subscribeToNavigationMetrics:function w(){__p&&__p();i.addRetroactiveListener(i.Events.EVENT_OCCURRED,function(x,y){if(!(x in q))return;if(t.includes(y.event)&&Object.prototype.hasOwnProperty.call(y,"timestamp")&&y.timestamp!=null){q[x][y.event]=y.timestamp;if(y.visibilityState)q[x][y.event+"_page_visibility"]=y.visibilityState}});i.addRetroactiveListener(i.Events.NAVIGATION_DONE,function(x,y){var z=y.serverLID;if(!(z in q))return;t.forEach(function(event){if(Object.prototype.hasOwnProperty.call(y,event)&&y[event]!=null)q[z][event]=y[event]});this._uploadPayload(z)}.bind(this))},_getPayloadWithOffset:function w(x,y,z){__p&&__p();var A=q[x];if(A==null)return null;var B=Object.assign({},A),C=document.querySelector('[id^="hyperfeed_story_id"]');if(C){var D=JSON.parse(h.getDataFt(C));if(D)B.mf_query_id=D.qid}B.tags=Array.from(A.tags);this._adjustValues(B,y);B.fetch_start=y;if(B.perfx_page_type==="normal"){var E=j.getNavTimings();if(E!=null&&E.navigationStart!=null)B.nav_to_fetch=y-E.navigationStart}if(z!=null)B.sendback_reason=z;if(navigator&&navigator.hardwareConcurrency)B.num_cores=navigator.hardwareConcurrency;if(navigator&&navigator.deviceMemory)B.ram_gb=navigator.deviceMemory;if(navigator&&navigator.connection){if(typeof navigator.connection.downlink==="number")B.downlink_megabits=navigator.connection.downlink;if(typeof navigator.connection.effectiveType==="string")B.effective_connection_type=navigator.connection.effectiveType;if(typeof navigator.connection.rtt==="number")B.rtt_ms=navigator.connection.rtt}delete B.sent;return B},_uploadPayload:function w(x,y){if(q[x]!=null&&!q[x].sent){var z=this.getPayload(x,y);if(z!=null){k.flush(z);q[x].sent=true}}},getPayload:function w(x,y){return this._getPayloadWithOffset(x,this._getFetchStart(x),y)},_getFetchStart:function w(x){__p&&__p();if(!(x in q))return null;var y=void 0,z=q[x].perfx_page_type;if(z=="quickling")if(!(x in u))return null;else y=j.getAsyncRequestTimings(u[x]);else y=j.getNavTimings();if(!y||!y.fetchStart)return null;return y.fetchStart},_adjustValues:function w(x,y){t.forEach(function(z){if(Object.prototype.hasOwnProperty.call(x,z))x[z]-=y})}};f.exports=v}),null);
__d("ControlledReferer",["Bootloader","DeferredCookie","URI","UserAgent","XRefererFrameController","isBonfireURI","isMessengerDotComURI","isOculusDotComURI","lowerFacebookDomain"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q={useFacebookReferer:function r(s,t,u){__p&&__p();if(!i.canEmbedThirdPartyPixel()){h.loadModules(["BanzaiODS"],function(y){y.bumpEntityKey("defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}var v=false;function w(){if(v)return;var y=s.contentWindow.location.pathname;if(y!=="/intern/common/referer_frame.php"&&y!=="/common/referer_frame.php")return;v=true;s.contentWindow.document.body.style.margin=0;t()}var x=void 0;if(n(j.getRequestURI())||m(j.getRequestURI()))x=l.getURIBuilder().getURI().toString();else if(o(j.getRequestURI()))x="/common/referer_frame.php";else if(!p.isValidDocumentDomain())x="/intern/common/referer_frame.php";else if(k.isBrowser("Opera"))x=l.getURIBuilder().getURI().toString();else x=l.getURIBuilder().getURI().qualify().setProtocol("https").setSubdomain("staticxx").toString();if(u)x+="?fb_source="+u;s.onload=w;s.src=x},useFacebookRefererHtml:function r(s,t,u){q.useFacebookReferer(s,function(){s.contentWindow.document.body.innerHTML=t},u)}};f.exports=q}),null);