if (self.CavalryLogger) { CavalryLogger.start_js(["50XVy"]); }

__d("MLogoutClearCache",["MCache","Stratcom"],(function a(b,c,d,e,f,g,h,i){i.listen("click","logout",h.clear)}),null);
__d("isLinkshimURI",["isBonfireURI","isFacebookURI","isMessengerDotComURI"],(function a(b,c,d,e,f,g,h,i,j){"use strict";function k(l){var m=l.getPath();if((m==="/l.php"||m.indexOf("/si/ajax/l/")===0||m.indexOf("/l/")===0||m.indexOf("l/")===0)&&(i(l)||j(l)||h(l)))return true;return false}f.exports=k}),null);
__d("KaiOSController",["Promise","EventEmitter","Map","MViewport","Stratcom","URI","getActiveElement","isLinkshimURI"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p="app://m.facebook.com",q="callback_id",r="action",s="payload",t=Object.freeze({APP_INFO:"app_info"}),u=Object.freeze({OPEN_URL:"open_url",REGISTER_PUSH:"register_push",UNREGISTER_PUSH:"unregister_push",SCREEN_ORIENTATION_LOCK:"screen_orientation_lock"}),v=new j(),w=null,x=null,y=new h(function(I,J){x=I}),z=false,A=false;function B(I){if(w&&I)w.postMessage(I,"*")}function C(I){__p&&__p();if(!(I instanceof j))return;var J=I.get(r),K=I.get(s),L=I.get(q);if(L){var M=v.get(L);if(M){v["delete"](L);M(K)}return}switch(J){case t.APP_INFO:if(K&&K.get){H.appVersion=K.get("app_version");if(z)window.addEventListener("click",D,true);window.addEventListener("keydown",F,false);if(A)window.addEventListener("fullscreenchange",G,false);l.listen("click",["m-composer","composer-submit"],function(N){setTimeout(function(){var O=n();if(O==N.getNode("composer-submit"))O.blur()},100)})}break}}function D(I){__p&&__p();var J=I.target,K=null;if(J&&J.tagName==="A")K=J.href;else if(J&&J.parentElement&&J.parentElement.tagName==="A")K=J.parentElement.href;else if(J&&J.parentElement&&J.parentElement.parentElement&&J.parentElement.parentElement.tagName==="A")K=J.parentElement.parentElement.href;var L=new m(K),M=K!=null&&K!==""&&!/\.facebook.com$/i.test(L.getDomain());if(K!=null&&(o(L)||M)){H.openUrl(K);I.preventDefault();I.stopPropagation()}}function E(){var I=location.href.split("/");return I.length==4&&I[3]==""}function F(event){__p&&__p();switch(event.key){case"Backspace":case"BrowserBack":if(document.fullscreenElement){document.exitFullscreen();event.preventDefault();event.stopPropagation()}else if(!E()){history.back();event.preventDefault();event.stopPropagation()}else if(k.getScrollTop()>0){k.scrollTo(0,0);event.preventDefault();event.stopPropagation()}break}}function G(event){__p&&__p();if(document.fullscreenElement){if(document.fullscreenElement.nodeName=="VIDEO")if(screen.orientation)screen.orientation.lock("landscape")}else{var I=new j(),J=new j();I.set(r,u.SCREEN_ORIENTATION_LOCK);I.set(s,J);J.set("orientation","portrait");B(I)}}var H={appVersion:null,init:function I(J){z=!!J.get("open_links_in_app");A=!!J.get("landscape_video");window.addEventListener("message",H.receiveMessage,false)},waitForKaiOS:function I(){return y},registerPush:function I(J){var K=Math.random().toString();v.set(K,J);var L=new j();L.set(r,u.REGISTER_PUSH);L.set(q,K);B(L)},unregisterPush:function I(){H.waitForKaiOS().done(function(){var J=new j();J.set(r,u.UNREGISTER_PUSH);B(J)})},openUrl:function I(J){var K=new j(),L=new j();K.set(r,u.OPEN_URL);K.set(s,L);L.set("url",J);B(K)},receiveMessage:function I(event){__p&&__p();if(!event||p!=event.origin||!event.source)return;if(x){x();x=null}if(!w){w=event.source;B("received")}if(event.data)C(event.data)}};f.exports=H}),null);
__d("LoginNativeButton",["DOM","BanzaiLogger"],(function a(b,c,d,e,f,g,h,i){"use strict";var j="native_login_button_click_client";f.exports={init:function k(l,m){h.listen(l,"click",null,function(n){this._logClick(m)}.bind(this))},_logClick:function k(l){var m=i.create({retry:true,delay:0});m.log("PlatformLoginOauthServerEventsLoggerConfig",{event:j,logger_id:l})}}}),null);
__d("BrowserPrefillSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BROWSER_DROPDOWN:"browser_dropdown",BROWSER_ONLOAD:"browser_onload",SERVER_PREFILL:"server_prefill",ATTEMPT_USER:"attempt_user",EMAIL_NOTIFICATION:"email_notification",HEADER:"header",IDENTIFIED_USER:"identified_user",LAST_LOGIN:"last_login",MOBILE_SUBNO_KEY:"mobile_subno_key",PROVIDED_OR_SOFT_MATCHED:"provided_or_soft_matched",TYPO_CORRECTED:"typo_corrected"})}),null);
__d("BrowserPrefillType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONTACT_POINT:"contact_point",PASSWORD:"password"})}),null);
__d("DamerauLevenshtein",[],(function a(b,c,d,e,f,g){__p&&__p();var h={DamerauLevenshteinDistance:function i(j,k){__p&&__p();if(j.length===0)return k.length;if(k.length===0)return j.length;if(j===k)return 0;var l,m,n=[];n[0]=[];n[1]=[];n[2]=[];for(m=0;m<=k.length;m++)n[0][m]=m;for(l=1;l<=j.length;l++)for(m=1;m<=k.length;m++){n[l%3][0]=l;var o=j.charAt(l-1)===k.charAt(m-1)?0:1;n[l%3][m]=Math.min(n[(l-1)%3][m]+1,n[l%3][m-1]+1,n[(l-1)%3][m-1]+o);if(l>1&&m>1&&j.charAt(l-1)==k.charAt(m-2)&&j.charAt(l-2)==k.charAt(m-1))n[l%3][m]=Math.min(n[l%3][m],n[(l-2)%3][m-2]+o)}return n[j.length%3][k.length]}};f.exports=h}),null);
__d("LoginEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOGIN_FAILURE:"login_failure",LOGIN_SUCCESS:"login_success",SESSION_TERMINATION:"session_termination",SESSION_UPDATE:"session_update",SESSION_VALIDATION:"session_validation",CHANGED_USER_IDENTIFIER:"changed_user_identifier",CLICKED_NEXT:"clicked_next",CLICKED_NEXT_USER_IDENTIFIER_BLANK:"clicked_next_user_identifier_blank",CLICKED_NEXT_USER_IDENTIFIER_FILLED:"clicked_next_user_identifier_filled",PASSWORD_ENTRY_VIEWED:"password_entry_viewed",CHANGED_PASSWORD:"changed_password",CLICKED_BACK:"clicked_back",CLICKED_SUBMIT:"clicked_submit",CLICKED_SUBMIT_PASSWORD_BLANK:"clicked_submit_password_blank",CLICKED_SUBMIT_PASSWORD_FILLED:"clicked_submit_password_filled",FORM_LOAD_CLIENT:"form_load_client",FORM_LOAD:"form_load",FORM_FOCUS:"form_focus",CLICKED_REG_IDENTIFIER_BLANK:"clicked_reg_identifier_blank",CLICKED_REG_IDENTIFIER_FILLED:"clicked_reg_identifier_filled",BROWSER_AUTOCOMPLETE:"browser_autocomplete",INVALID_CONTACTPOINT:"invalid_contactpoint",VALID_CONTACTPOINT:"valid_contactpoint"})}),null);
__d("LoginFormKeys",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BUTTON_KEY:"loginbutton",CUID:"cuid",EMAIL_FIELD_CONTAINER:"email_container",EMAIL_FIELD_KEY:"email",ERROR_BOX_KEY:"error_box",HEADER_BLOCK:"header_block",LOGIN_LINK:"login_link",NOT_ME_LINK:"not_me_link",PASSWORD_FIELD_KEY:"pass",PREFILL_CONTACT_POINT:"prefill_contact_point",PREFILL_SOURCE:"prefill_source",PREFILL_TYPE:"prefill_type",EMAIL_INPUT_CONTAINER:"email_input_container",FIRST_PREFILL_SOURCE:"first_prefill_source",FIRST_PREFILL_TYPE:"first_prefill_type",HAD_CP_PREFILLED:"had_cp_prefilled",HAD_PASSWORD_PREFILLED:"had_password_prefilled"})}),null);
__d("BrowserPrefillLogging",["BanzaiLogger","BrowserPrefillSource","BrowserPrefillType","DamerauLevenshtein","LoginEvent","LoginFormKeys","ge"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();var o={initContactpointFieldLogging:function p(q){this.contactpointFieldID=q.contactpointFieldID;this._updateContactpoint();this.serverPrefillContactpoint=q.serverPrefill;var r=n(this.contactpointFieldID);if(r==null)return;r.addEventListener("input",this._mayLogContactpointPrefillViaDropdown.bind(this));window.addEventListener("load",this._mayLogContactpointPrefillOnload.bind(this));return},registerCallback:function p(q){this.regeisteredCallbacks=this.regeisteredCallbacks||[];this.regeisteredCallbacks.push(q)},_invokeCallbacks:function p(q,r){if(this.regeisteredCallbacks==null||this.regeisteredCallbacks.size===0)return;this.regeisteredCallbacks.forEach(function(s){s(q,r)})},initPasswordFieldLogging:function p(q){this.passwordFieldID=q.passwordFieldID;this._updatePassword();var r=n(this.passwordFieldID);if(r==null)return;r.addEventListener("input",this._mayLogPasswordPrefillViaDropdown.bind(this));window.addEventListener("load",this._mayLogPasswordPrefillOnload.bind(this))},updatePrefill:function p(q,r,s){__p&&__p();var t=n(m.PREFILL_SOURCE),u=n(m.PREFILL_TYPE),v=n(m.FIRST_PREFILL_SOURCE),w=n(m.FIRST_PREFILL_TYPE),x=n(m.HAD_CP_PREFILLED),y=n(m.HAD_PASSWORD_PREFILLED),z=n(m.PREFILL_CONTACT_POINT);if(t!=null)t.value=r;if(u!=null)u.value=s;if(z!=null&&q!=null)z.value=q;if(w!=null&&(w.value==null||w.value==""))w.value=s;if(v!=null&&(v.value==null||v.value==""))v.value=r;if(x!=null&&(x.value==null||x.value==="false")&&s===j.CONTACT_POINT)x.value="true";if(y!=null&&(y.value==null||y.value==="false")&&s===j.PASSWORD)y.value="true"},_mayLogContactpointPrefillOnload:function p(){this._updateContactpoint();if(this.previousContactpoint==null||this.previousContactpoint==="")return;var q=this.previousContactpoint===this.serverPrefillContactpoint?i.SERVER_PREFILL:i.BROWSER_ONLOAD;this._logBrowserPrefill(q,j.CONTACT_POINT);this._invokeCallbacks(q,j.CONTACT_POINT)},_mayLogPasswordPrefillOnload:function p(){this._updatePassword();if(this.previousPassword==null||this.previousPassword==="")return;this._logBrowserPrefill(i.BROWSER_ONLOAD,j.PASSWORD);this._invokeCallbacks(i.BROWSER_ONLOAD,j.PASSWORD)},_mayLogContactpointPrefillViaDropdown:function p(){__p&&__p();var q=n(this.contactpointFieldID);if(q==null||q.value==null)return;if(this._isBrowserPrefill(this.previousContactpoint,q.value)===false){this._updateContactpoint();return}this._updateContactpoint();this._logBrowserPrefill(i.BROWSER_DROPDOWN,j.CONTACT_POINT);this._invokeCallbacks(i.BROWSER_DROPDOWN,j.CONTACT_POINT)},_mayLogPasswordPrefillViaDropdown:function p(){__p&&__p();var q=n(this.passwordFieldID);if(q==null||q.value==null)return;if(this._isBrowserPrefill(this.previousPassword,q.value)===false){this._updatePassword();return}this._updatePassword();this._logBrowserPrefill(i.BROWSER_DROPDOWN,j.PASSWORD);this._invokeCallbacks(i.BROWSER_DROPDOWN,j.PASSWORD)},_isBrowserPrefill:function p(q,r){__p&&__p();if(r==="")return false;if(r===q)return false;if(r.length===1||q.length===r.length+1||r.length===q.length+1)return false;var s=k.DamerauLevenshteinDistance(r,q);if(s===q.length-r.length)return false;return true},_updateContactpoint:function p(){var q=n(this.contactpointFieldID);this.previousContactpoint=q!=null&&q.value!=null?q.value:""},_updatePassword:function p(){var q=n(this.passwordFieldID);this.previousPassword=q!=null&&q.value!=null?q.value:""},_logBrowserPrefill:function p(q,r){var s=null;if(r===j.CONTACT_POINT)s=this.previousContactpoint;if(q!==i.SERVER_PREFILL)this.updatePrefill(s,q,r);h.create({signal:true}).log("LoginEventsLoggerConfig",{event:l.BROWSER_AUTOCOMPLETE,prefill_contact_point:s,prefill_source:q,prefill_type:r})}};f.exports=o}),null);
__d("MButton",["CSSCore","DOM","cx","invariant"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="_2347";function m(o){i.isType(o,"button")||i.isType(o,"a")||k(0)}var n={isEnabled:function o(p){m(p);return p.disabled===false||i.isType(p,"a")&&!h.hasClass(p,l)},setEnabled:function o(p,q){__p&&__p();m(p);if(n.isEnabled(p)===q)return;if(i.isType(p,"button"))p.disabled=!q;else{h.conditionClass(p,l,!q);if(q){p.removeAttribute("tabindex");p.removeAttribute("aria-disabled")}else{p.setAttribute("tabindex","-1");p.setAttribute("aria-disabled","true")}}}};f.exports=n}),null);
__d("MLoginFormError",["CSS","DOM","Stratcom","cx","invariant"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m="_3qsy",n="_3qs-",o={set:function p(q,r){r!==null||l(0);h.addClass(q,m);h.addClass(q,n);i.listen(q,"input",null,function(s){h.removeClass(q,n)})},unset:function p(q){h.removeClass(q,m);h.removeClass(q,n)}};f.exports=o}),null);
__d("MLoginFormSigils",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FORM:"m_login_form",BUTTON:"m_login_button",BUTTON_ALT:"m_login_button_alt",NOTICE:"m_login_notice",UPSELL:"m_login_upsell",EMAIL_INPUT:"m_login_email",PASSWORD_INPUT:"m_login_password",TRY_NUMBER:"m_login_try_number",UNRECOGNIZED_TRIES_COUNT:"m_login_unrecognized_tries",MORE_LINKS:"m_login_more_links",NEXT_BUTTON:"m_login_next_btn",CP_TEXT:"m_login_cp_text",LANGUAGE_SELECTOR:"language_selector",LOGIN_IDENTIFY_STEP_ELEMENT:"login_identify_step_element",LOGIN_IDENTIFY_STEP_PROGRESS_BAR:"login_identify_step_progress_bar",LOGIN_PASSWORD_STEP_ELEMENT:"login_password_step_element",CHANGE_CP_LINK:"m_login_change_cp_link",REG_BUTTON:"m_reg_button",CONTACTPOINT_EXISTS:"contactpoint_exists",ONE_STEP_LOGIN_ELEMENT:"one_step_login_element",TWO_STEPS_LOGIN_ELEMENT:"two_steps_login_element"})}),null);
__d("MPasswordPlainTextToggleSigils",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INPUT:"password-plain-text-toggle-input",TOGGLE:"password-plain-text-toggle"})}),null);
__d("XLoginCheckContactpointController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/login/v/",{contactpoint:{type:"String",required:true}})}),null);
__d("MLoginController",["BanzaiLogger","BrowserPrefillSource","BrowserPrefillType","BrowserPrefillLogging","CSS","cx","DataStore","DOM","DeferredCookie","fbt","ge","goURI","LoginFormKeys","MAjaxify","MButton","MHistory","MLoginFormError","MLoginFormSigils","MPasswordPlainTextToggleSigils","MRequest","Keys","Stratcom","SubscriptionsHandler","XLoginCheckContactpointController","URI"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F){"use strict";__p&&__p();var G="_pg8",H="stepOneIdentification",I="stepTwoAuthenticaiton",J="auth",K="reduce_redundant_work_universe",L={_initTwoStepsListeners:function M(){__p&&__p();var N=new D();N.addSubscriptions(C.listen("click",y.CHANGE_CP_LINK,function(event){if(history.length>1){event.prevent();history.go(-1)}}),C.listen("m:history:change",null,function(event){__p&&__p();var O=event.getData();if(O.path){var P=new F(O.path);if(this._initialURI.getPath()===P.getPath()){event.prevent();if(event.getData().soft===J)this._onEnteringCP();else this._onBackToCP()}}}.bind(this)),C.listen("click",y.NEXT_BUTTON,this._handleNextButtonClick.bind(this)));C.listen("m:page:unload",null,function(){C.removeCurrentListener();N.release()})},initRegButton:function M(N){var O=N.root;this.regURI=N.regURI;this.regButton=o.find(O,"a",y.REG_BUTTON);this.regButton.removeAttribute("href");o.listen(this.regButton,"click",null,this._sendLoginRequestFromReg.bind(this))},initLoginForm:function M(N){__p&&__p();var O=N.root;this.isTwoStepsLogin=N.isTwoStepsLogin;this.isActionLoggingEnabled=N.isActionLoggingEnabled;this.loginForm=o.find(O,"form",y.FORM);this.loginForm.action=N.ajaxURI;this.loginButton=o.find(O,"button",y.BUTTON);var P=o.scry(O,"a",y.BUTTON_ALT);P=P.pop();this.loginButtonAlt=null;if(P!==undefined)this.loginButtonAlt=P;if(this.isTwoStepsLogin){this.hadCPPrefilled=false;this.enableOneStepLoginForPrefill=N.shouldEnableOneStepLoginForPrefill;this.enableOneStepLoginOnStepTwo=N.shouldEnableOneStepLoginOnStepTwo;this._initialURI=F.getRequestURI();this.onErrorRegURI=N.onErrorRegURI;this.isEarlyCPCheckEnabled=N.isEarlyCPCheckEnabled;this.shouldAutoSubmitWhenPrefilledStep1=N.shouldAutoSubmitWhenPrefilledStep1;this.shouldAutoSubmitWhenPrefilledStep2=N.shouldAutoSubmitWhenPrefilledStep2;this.shouldNotAutoFocusPasswordField=N.shouldNotAutoFocusPasswordField;this.shouldAutoLandOnStep2=N.shouldAutoLandOnStep2;this.shouldClearPasswordIfPrefilledCPChanged=N.shouldClearPasswordIfPrefilledCPChanged;this.shouldClearPasswordIfOnlyPasswordPrefilled=N.shouldClearPasswordIfOnlyPasswordPrefilled;this.prefillContactpointHiddenInput=r(t.PREFILL_CONTACT_POINT);this.passwordStepDelayMilliSeconds=N.passwordStepDelayMilliSeconds;this.nextButton=o.find(O,"button",y.NEXT_BUTTON);this.cpText=o.find(O,"span",y.CP_TEXT);this.moreLinks=o.scry(O,"div",y.MORE_LINKS).pop();this.progressBar=o.find(O.ownerDocument,"div",y.LOGIN_IDENTIFY_STEP_PROGRESS_BAR);this.languageSelector=o.find(O.ownerDocument,"div",y.LANGUAGE_SELECTOR);this.identifyStepElements=o.scry(O.ownerDocument,"div",y.LOGIN_IDENTIFY_STEP_ELEMENT);this.twoStepLoginElements=o.scry(O.ownerDocument,"div",y.TWO_STEPS_LOGIN_ELEMENT);this.oneStepLoginElements=o.scry(O.ownerDocument,"div",y.ONE_STEP_LOGIN_ELEMENT);this.twoStepLoginElements.push(this.languageSelector);this.identifyStepElements.push(this.languageSelector);this.passwordStepElements=o.scry(O.ownerDocument,"div",y.LOGIN_PASSWORD_STEP_ELEMENT);this._initTwoStepsListeners();n.set(this.loginForm,"step",H)}this.loginButton.type="button";this.notice=o.find(O,"div",y.NOTICE);this.emailInput=this._getElem(O,"input",y.EMAIL_INPUT);this.passwordInput=this._getElem(O,"div",y.PASSWORD_INPUT);this.emailInputContainer=r(t.EMAIL_INPUT_CONTAINER);this.passwordInputDOM=o.find(this.passwordInput,"input");this.tryNumber=this._getElem(O,"input",y.TRY_NUMBER);this.unrecognizedTriesCountInput=this._getElem(O,"input",y.UNRECOGNIZED_TRIES_COUNT);this.upsell=this._getElem(O,"div",y.UPSELL);this.numPasswordErrorAttempts=0;this.unrecognizedContactpointErrorCount=0;this.rapidFeedbackUri=N.rapidFeedbackUri;o.listen(this.loginButton,"click",null,this._handleSubmitButtonClick.bind(this));if(this.loginButtonAlt!==null)o.listen(this.loginButtonAlt,"click",null,this._handleSubmitButtonClick.bind(this));var Q=N.listenKeyDown?"keydown":"keyup";if(this.isTwoStepsLogin){this.nextButton.setAttribute("type","button");this.passwordInputDOM.setAttribute("tabindex",-1);o.listen(this.loginForm,"keydown",null,function(S){if(S.getRawEvent().keyCode===B.RETURN)if(n.get(this.loginForm,"step","")===H)this._handleNextButtonClick();else this._handleSubmitButtonClick()}.bind(this))}else o.listen(this.loginForm,Q,null,function(S){if(S.getRawEvent().keyCode===B.RETURN)this._handleSubmitButtonClick()}.bind(this));if(N.clearOnDelete)o.listen(this.emailInput,Q,null,function(S){if(S.getRawEvent().keyCode===B.BACKSPACE)this.emailInput.value=""}.bind(this));if(this.isActionLoggingEnabled){C.listen("change",y.EMAIL_INPUT,function(S){this._logAction("changed_user_identifier")}.bind(this));C.listen("change",y.PASSWORD_INPUT,function(S){this._logAction("changed_password")}.bind(this));C.listen("click",y.REG_BUTTON,function(S){if(this.emailInput.value==="")this._logAction("clicked_reg_identifier_blank");else this._logAction("clicked_reg_identifier_filled")}.bind(this));this.hasFocusedAlready=false;window.addEventListener("load",function(S){this._logAction("form_load_client")}.bind(this),false);var R=o.scry(O,"input",null);R.forEach(function(S){o.listen(S,"focus",null,this._logFormFocus.bind(this))}.bind(this))}if(this.enableOneStepLoginForPrefill)k.registerCallback(function(S,T){if(S===i.BROWSER_DROPDOWN&&T===j.CONTACT_POINT){this.hadCPPrefilled=true;this._handleNextButtonClick()}}.bind(this));if((this.shouldAutoLandOnStep2||this.enableOneStepLoginForPrefill)&&this.emailInput.value.trim()!==""){this.hadCPPrefilled=true;w.pushSoftState(J)}},_logFormFocus:function M(){if(this.hasFocusedAlready)return;this.hasFocusedAlready=true;this._logAction("form_focus")},_getElem:function M(N,O,P){var Q=o.scry(N,O,P);if(Q.length===0)return null;return Q[0]},_autoFocusIfNeeded:function M(N){__p&&__p();if(!this.emailInput||!this.passwordInput)return;if(!this.passwordInputDOM)return;var O=this.emailInput.value===""||N[y.EMAIL_INPUT].error,P=this.passwordInputDOM.value===""||N[y.PASSWORD_INPUT].error;if(O||P)if(O)this.emailInput.focus();else if(P)this.passwordInputDOM.focus()},_sendLoginRequest:function M(){__p&&__p();p.flushAllCookies();l.hide(this.notice);v.setEnabled(this.loginButton,false);if(this.isTwoStepsLogin)v.setEnabled(this.nextButton,false);setTimeout(v.setEnabled.bind(null,this.loginButton,true),15e3);if(this.loginButtonAlt!==null){v.setEnabled(this.loginButtonAlt,false);setTimeout(v.setEnabled.bind(null,this.loginButtonAlt,true),15e3)}if(this.tryNumber!==null)this.tryNumber.setAttribute("value",this.numPasswordErrorAttempts);if(this.unrecognizedTriesCountInput!==null)this.unrecognizedTriesCountInput.value=this.unrecognizedContactpointErrorCount;u.form(null,this.loginForm,null,"nocache",null,true,[{response:this._onLoginResponse.bind(this)}])},_sendLoginRequestFromReg:function M(){__p&&__p();p.flushAllCookies();if(this.emailInput.value===""||this.passwordInput.value===""){s(this.regURI);return}l.hide(this.notice);v.setEnabled(this.loginButton,false);setTimeout(v.setEnabled.bind(null,this.loginButton,true),15e3);if(this.loginButtonAlt!==null){v.setEnabled(this.loginButtonAlt,false);setTimeout(v.setEnabled.bind(null,this.loginButtonAlt,true),15e3)}u.form(null,this.loginForm,null,"nocache",null,true,[{response:this._onLoginFromRegResponse.bind(this)}])},_logActionIfEnabled:function M(N){if(this.isActionLoggingEnabled)this._logAction(N)},_logAction:function M(N){__p&&__p();var O=r(t.FIRST_PREFILL_TYPE),P=null;if(O!=null&&O.value!=="")P=O.value;var Q=r(t.FIRST_PREFILL_SOURCE),R=null;if(Q!=null&&Q.value!=="")R=Q.value;var S=r(t.PREFILL_TYPE),T=null;if(S!=null&&S.value!=="")T=S.value;var U=r(t.PREFILL_SOURCE),V=null;if(U!=null&&U.value!=="")V=U.value;var W=r(t.HAD_CP_PREFILLED),X=null;if(W!=null&&W.value!=="")X=W.value;var Y=r(t.HAD_PASSWORD_PREFILLED),Z=null;if(Y!=null&&Y.value!=="")Z=Y.value;h.create({signal:true}).log("LoginEventsLoggerConfig",{event:N,first_prefill_type:P,first_prefill_source:R,prefill_type:T,prefill_source:V,had_cp_prefilled:X,had_password_prefilled:Z})},_handleSubmitButtonClick:function M(){this._logActionIfEnabled("clicked_submit");if(this.passwordInputDOM.value==="")this._logActionIfEnabled("clicked_submit_password_blank");else this._logActionIfEnabled("clicked_submit_password_filled");this._sendLoginRequest()},_checkContactPoint:function M(){__p&&__p();var N=E.getURIBuilder().setString("contactpoint",this.emailInput.value).getURI();u.ajaxify(null,null,new A(N).setMethod("POST"),null,[{response:function(O){__p&&__p();this.nextButton.disabled=false;if(!O.payload)return;var P=O.payload;if(this.emailInput!==null&&P[y.CONTACTPOINT_EXISTS]===false){if(P[y.EMAIL_INPUT]&&P[y.EMAIL_INPUT].error){x.set(this.emailInput,"error");n.set(this.emailInput,"error",true);this.emailInput.value="";this._resetProgressBar()}if(P[y.NOTICE]){o.setContent(this.notice,P[y.NOTICE]);l.show(this.notice)}w.popSoftState(J)}else this._goToPasswordStep()}.bind(this)}])},_getBlankEmailErrorFBT:function M(){var N=q._("\u0394\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03ae\u03c3\u03b5\u03c4\u03b5 \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03cc."),O=o.create("a");O.setAttribute("href",this.onErrorRegURI);o.setContent(O,N);return q._("\u0397 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7 email \u03ae \u03bf \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u03ba\u03b9\u03bd\u03b7\u03c4\u03bf\u03cd \u03c0\u03bf\u03c5 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b1\u03c4\u03b5 \u03b4\u03b5\u03bd \u03c4\u03b1\u03b9\u03c1\u03b9\u03ac\u03b6\u03b5\u03b9 \u03bc\u03b5 \u03ba\u03b1\u03bd\u03ad\u03bd\u03b1 \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03cc. {reg_uri}",[q.param("reg_uri",O)])},_onEnteringCP:function M(){__p&&__p();this._logActionIfEnabled("clicked_next");if(this.emailInput.value.trim()===""){this._logActionIfEnabled("clicked_next_user_identifier_blank");o.setContent(this.notice,this._getBlankEmailErrorFBT());l.show(this.notice);x.set(this.emailInput,"error");n.set(this.emailInput,"error",true);w.popSoftState(J);return}this._logActionIfEnabled("clicked_next_user_identifier_filled");x.unset(this.emailInput);n.set(this.emailInput,"error",false);if(!n.get(this.passwordInput,"error",false))l.hide(this.notice);this.nextButton.disabled=true;this._enableProgressBar();if(this.isEarlyCPCheckEnabled)this._checkContactPoint();else setTimeout(function(){this._goToPasswordStep();this.nextButton.disabled=false}.bind(this),this.passwordStepDelayMilliSeconds)},_onBackToCP:function M(){if(n.get(this.passwordInput,"error",false)){l.hide(this.notice);n.set(this.passwordInput,"error",false);l.removeClass(this.passwordInput,G)}this._goToIdentificationStep()},_hideAll:function M(N){N.forEach(function(O){return l.hide(O)})},_showAll:function M(N){N.forEach(function(O){return l.show(O)})},_goToPasswordStep:function M(){__p&&__p();n.set(this.loginForm,"step",I);if(this.enableOneStepLoginForPrefill&&this.hadCPPrefilled||this.enableOneStepLoginOnStepTwo){this._showAll(this.passwordStepElements);this._hideAll(this.twoStepLoginElements);this._showAll(this.oneStepLoginElements);l.removeClass(this.passwordInput,"_1-z5");l.removeClass(this.emailInputContainer,"_1ng0");this.passwordInputDOM.removeAttribute("tabindex");this._logActionIfEnabled("password_entry_viewed");if(this.moreLinks)l.addClass(this.moreLinks,"_2pie");if(!this.shouldNotAutoFocusPasswordField)this.passwordInputDOM.focus();return}this._hideAll(this.identifyStepElements);this._showAll(this.passwordStepElements);this._logActionIfEnabled("password_entry_viewed");if(this.moreLinks)l.addClass(this.moreLinks,"_2pie");l.removeClass(this.passwordInput,"_1-z5");this.passwordInputDOM.removeAttribute("tabindex");o.setContent(this.cpText,this.emailInput.value);if(this.shouldClearPasswordIfPrefilledCPChanged&&this.prefillContactpointHiddenInput.value!==this.emailInput.value)this.passwordInputDOM.value="";if(this.shouldClearPasswordIfOnlyPasswordPrefilled){var N=r(t.HAD_CP_PREFILLED),O=r(t.HAD_PASSWORD_PREFILLED);if(N!=null&&O!=null&&(N.value==null||N.value==="false")&&O.value==="true"){this.shouldClearPasswordIfOnlyPasswordPrefilled=false;this.passwordInputDOM.value=""}}if(this.shouldAutoSubmitWhenPrefilledStep2&&this.passwordInputDOM.value.trim()!==""&&this.prefillContactpointHiddenInput&&this.prefillContactpointHiddenInput.value===this.emailInput.value){this.shouldAutoSubmitWhenPrefilledStep2=false;this._sendLoginRequest()}else if(!this.shouldNotAutoFocusPasswordField)this.passwordInputDOM.focus()},_resetProgressBar:function M(){this.progressBar.style.transitionDuration="0ms";this.progressBar.style["-webkit-transition-duration"]="0ms";this.progressBar.style["-moz-transition-duration"]="0ms";this.progressBar.style.transform="translateX(0%)";this.progressBar.style["-webkit-transform"]="translateX(0%)";this.progressBar.style["-moz-transform"]="translateX(0%)"},_enableProgressBar:function M(){this.progressBar.style.transitionDuration=this.passwordStepDelayMilliSeconds+"ms";this.progressBar.style["-webkit-transition-duration"]=this.passwordStepDelayMilliSeconds+"ms";this.progressBar.style["-moz-transition-duration"]=this.passwordStepDelayMilliSeconds+"ms";this.progressBar.style.transform="translateX(100%)";this.progressBar.style["-webkit-transform"]="translateX(100%)";this.progressBar.style["-moz-transform"]="translateX(100%)"},_goToIdentificationStep:function M(){__p&&__p();n.set(this.loginForm,"step",H);this._resetProgressBar();if(this.enableOneStepLoginForPrefill||this.enableOneStepLoginOnStepTwo){this._showAll(this.twoStepLoginElements);this._showAll(this.oneStepLoginElements)}l.addClass(this.passwordInput,"_1-z5");this.passwordInputDOM.setAttribute("tabindex",-1);this._hideAll(this.passwordStepElements);this._showAll(this.identifyStepElements);if(!n.get(this.emailInput,"error",false))this._logActionIfEnabled("clicked_back");if(this.moreLinks)l.removeClass(this.moreLinks,"_2pie");this.emailInput.focus()},_handleNextButtonClick:function M(){if(this.passwordInputDOM.value.trim()!==""&&this.prefillContactpointHiddenInput&&this.prefillContactpointHiddenInput.value===this.emailInput.value)this.hadCPPrefilled=true;if(this.hadCPPrefilled&&this.shouldAutoSubmitWhenPrefilledStep1){this.shouldAutoSubmitWhenPrefilledStep1=false;this._sendLoginRequest();return}w.pushSoftState(J)},_onLoginResponse:function M(N){__p&&__p();v.setEnabled(this.loginButton,true);if(this.isTwoStepsLogin)v.setEnabled(this.nextButton,true);if(this.loginButtonAlt!==null)v.setEnabled(this.loginButtonAlt,true);if(!N.payload)return;var O=N.payload;if(O[y.PASSWORD_INPUT].error)this.numPasswordErrorAttempts++;else this.numPasswordErrorAttempts=0;if(O[y.EMAIL_INPUT].unrecognized)this.unrecognizedContactpointErrorCount++;if(this.rapidFeedbackUri&&this.numPasswordErrorAttempts==2)s(this.rapidFeedbackUri);if(O[y.NOTICE]){o.setContent(this.notice,O[y.NOTICE]);l.show(this.notice)}if(this.emailInput!==null){if(O[y.EMAIL_INPUT].error){x.set(this.emailInput,"error");n.set(this.emailInput,"error",true);if(this.isTwoStepsLogin)w.popSoftState(J)}else{x.unset(this.emailInput);n.set(this.emailInput,"error",false)}var P=O[y.EMAIL_INPUT].value;if(P){this.emailInput.value=P;if(this.isTwoStepsLogin)o.setContent(this.cpText,P)}else this.emailInput.value=""}if(this.passwordInput!==null){o.find(this.passwordInput,"input").value="";C.invoke("m:passwordinput:autoclear",z.INPUT);if(O[y.PASSWORD_INPUT].error){n.set(this.passwordInput,"error",true);l.addClass(this.passwordInput,G);if(this.isTwoStepsLogin&&n.get(this.loginForm,"step","")===H)w.pushSoftState(J)}else{n.set(this.passwordInput,"error",false);l.removeClass(this.passwordInput,G)}}this._autoFocusIfNeeded(N.payload);if(this.upsell!==null)o.hide(this.upsell)},_onLoginFromRegResponse:function M(N){s(this.regURI)},redirect:function M(N){window.location.replace(N)}};f.exports=L}),null);
__d("MLoginView",["DOM","DeferredCookie","MButton","ge","CSS","cx"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){var n={disableOnSubmit:function o(p,q){h.listen(p,"submit",null,function(){i.flushAllCookies();j.setEnabled(q,false);setTimeout(j.setEnabled.bind(null,q,true),15e3)})},showForm:function o(p,q){h.listen(p,"click",null,function(r){h.remove(p);l.removeClass(q,"_7tb")})}};f.exports=n}),null);
__d("MPasswordPlainTextToggle",["CSS","MPasswordPlainTextToggleSigils","Stratcom","invariant"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l={init:function m(n,o,p,q){__p&&__p();p!==null&&q!==null||k(0);j.listen("click",i.TOGGLE,function(r){__p&&__p();if(n.type=="password"){n.type="text";h.hide(p);h.show(q)}else{n.type="password";h.hide(q);h.show(p)}r.kill()});j.listen(["m:passwordinput:autoclear","input"],i.INPUT,function(r){if(n.value=="")h.hide(o);else h.show(o)})}};f.exports=l}),null);
__d("BrowserPushMessageRedirectUtil",[],(function a(b,c,d,e,f,g){var h=function h(i){return true};f.exports=h}),null);
__d("BrowserPushCommands",[],(function a(b,c,d,e,f,g){var h="browser_push_ack",i="browser_push_redirect",j="browser_push_window_visible",k={ACK:h,REDIRECT:i,WINDOW_VISIBLE:j};f.exports=k}),null);
__d("BrowserPushMessageHandler",["BrowserPushCommands","BrowserPushMessageRedirectUtil","EventListener","URI","URISchemes","isFacebookURI"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();function n(event){__p&&__p();if(event.data.command&&event.data.command===h.REDIRECT){if(window.onbeforeunload()===undefined)event.ports[0].postMessage({command:h.ACK,success:true});else{event.ports[0].postMessage({command:h.ACK,success:false});return}var p=event.data.uri;if(/^([^.:/?#]+):/.test(p)&&!l.isAllowed(/^([^.:/?#]+):/.exec(p)[1])||!m(new k(p)))throw new Error("goURI: URI scheme rejected, URI: "+p);if(i(p))window.location.href=p}}var o={registerRedirectHandler:function p(){j.listen(window,"message",function(event){if(event.origin==="")n(event)});if(navigator.serviceWorker&&navigator.serviceWorker.addEventListener)navigator.serviceWorker.addEventListener("message",function(event){if(navigator.serviceWorker&&navigator.serviceWorker.controller&&event.target&&event.target.controller&&event.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(event.origin))n(event)})}};f.exports=o}),null);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function a(b,c,d,e,f,g,h,i,j){function k(){new i(h.WINDOW_VISIBLE,null).sendViaController()}var l={listenForVisibility:function m(){if(!j.isHidden())k();j.addListener(j.VISIBLE,k)}};f.exports=l}),null);
__d("PushRegistration",["Promise","BrowserPushMessageHandler","BrowserPushVisibilityChanger","Map","ServiceWorkerRegistration","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n=window.Notification,o=new k();p.get=function(q,r){"use strict";if(o.has(r))return o.get(r);var s=new p(q,r);o.set(r,s);return s};function p(q,r){"use strict";this.$PushRegistration3=q;this.appID=r;if(!p.$PushRegistration1&&!p.$PushRegistration2){p.$PushRegistration1=false;p.$PushRegistration2=false}}p.prototype.getPushSubscription=function(){"use strict";__p&&__p();return new h(function(q,r){if(p.pushPermissionIsDenied())r(new Error("No permission or not supported"));l.getWorkerRegistration(this.$PushRegistration3).then(function(s){if(!s){q(null);return}s.pushManager.getSubscription().then(function(t){q(t)})["catch"](r)})["catch"](r)}.bind(this))};p.prototype.$PushRegistration4=function(q){"use strict";var r=q.endpoint;if("subscriptionId"in q&&!new RegExp("/"+q.subscriptionId+"$").test(r))r+="/"+q.subscriptionId;return r};p.prototype.$PushRegistration5=function(q,r,s,t){"use strict";__p&&__p();var u=this.$PushRegistration4(s),v=q.getURIBuilder().getURI(),w=new r(v),x=null;if(s.toJSON)x=s.toJSON().keys;else if(s.keys)x=s.keys;w.setData({app_id:this.appID,push_endpoint:u,subscription_keys:JSON.stringify(x)});w.setMethod("post");if(w.setHandler)w.setHandler(function(y){if(y.payload&&y.payload.session_change)t()});w.send()};p.prototype.getSubscription=function(){"use strict";return new h(function(q,r){this.getPushSubscription().then(function(s){if(s)q(this.$PushRegistration4(s));else q(null)}.bind(this))["catch"](r)}.bind(this))};p.prototype.maybeRegisterPushAgain=function(q,r,s){"use strict";return new h(function(t,u){this.getPushSubscription().then(function(v){if(v){this.$PushRegistration5(q,r,v,s);t(this.$PushRegistration4(v))}else t(null)}.bind(this))["catch"](function(){t(null)})}.bind(this))};p.prototype.$PushRegistration6=function(q,r,s){"use strict";__p&&__p();return new h(function(t,u){__p&&__p();if(p.$PushRegistration2&&!s){u(new Error("sending disable info already"));return}p.$PushRegistration2=true;var v=q.getURIBuilder().getURI(),w=new r(v.toString());w.setData({appid:this.appID,from_browser_settings:s});w.setMethod("post");if(w.listen){w.listen("finally",t);w.listen("fail",function(){p.$PushRegistration2=false;u()})}else if(w.setErrorHandler&&w.setHandler){w.setErrorHandler(function(){p.$PushRegistration2=false;u()});w.setHandler(t)}else t();w.send()}.bind(this))};p.prototype.isPushRegistered=function(q,r,s,t){__p&&__p();var u=arguments.length<=4||arguments[4]===undefined?false:arguments[4],v=arguments.length<=5||arguments[5]===undefined?m:arguments[5],w=arguments.length<=6||arguments[6]===undefined?false:arguments[6];"use strict";i.registerRedirectHandler();return new h(function(x,y){__p&&__p();this.getPushSubscription().then(function(z){x(!!z||q&&!p.pushPermissionIsPending());if(z)if(u)self.$PushRegistration5(r,t,v,w);else j.listenForVisibility();else if(!z&&q)if(p.pushPermissionIsOn())this.registerPush(r,t,v,w)["catch"](function(){});else this.$PushRegistration6(s,t,false)}.bind(this))["catch"](function(){if(q)this.$PushRegistration6(s,t,false);if(w)l.unregisterControllingWorker();y()}.bind(this))}.bind(this))};p.prototype.$PushRegistration7=function(){"use strict";return new h(function(q,r){n.requestPermission(q)})};p.prototype.registerPushAndWaitForEndpoint=function(q,r,s,t){"use strict";return new h(function(u,v){this.$PushRegistration8(q,r,s,true,null,t).then(function(w){if(typeof w!=="string"){v(new Error("registerPushImpl did not return an endpoint"));return}u(w)})["catch"](v)}.bind(this))};p.prototype.registerPushOnKaiOS=function(q,r,s){"use strict";return new h(function(t,u){s.waitForKaiOS().done(function(){s.registerPush(function(v){var w=JSON.parse(v.get("push_endpoint"));this.$PushRegistration5(q,r,w,m);t(this.$PushRegistration4(w))}.bind(this))}.bind(this))}.bind(this))};p.prototype.registerPush=function(q,r){var s=arguments.length<=2||arguments[2]===undefined?m:arguments[2],t=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";return this.registerPushWithFinishedCallBack(q,r,s,null,t)};p.prototype.registerPushWithFinishedCallBack=function(q,r,s,t,u){"use strict";return new h(function(v,w){this.$PushRegistration8(q,r,s,false,t,u).then(function(x){if(typeof x!=="boolean"){w(new Error("registerPushImpl did not return a boolean"));return}v(x)})["catch"](w)}.bind(this))};p.prototype.$PushRegistration8=function(q,r,s,t,u,v){"use strict";__p&&__p();if(p.$PushRegistration1)return new h(function(w,x){x(new Error("registering already"))});if(!self.PushManager)return h.reject(new Error("PushManager not found."));p.$PushRegistration1=true;return new h(function(w,x){__p&&__p();var y=l.registerWorkerIfUnregistered(this.$PushRegistration3),z=this.$PushRegistration7();h.all([y,z]).then(function(A){__p&&__p();var B=A[0];if(!p.pushPermissionIsOn()){if(v)B.unregister();throw new Error("Push permission was denied")}if(!t)w(true);B.pushManager.subscribe({userVisibleOnly:true}).then(function(C){if(t)w(this.$PushRegistration4(C));this.$PushRegistration5(q,r,C,s);if(u)u();j.listenForVisibility()}.bind(this))["catch"](function(C){p.$PushRegistration1=false;if(v)B.unregister();x(C)})}.bind(this))["catch"](function(A){p.$PushRegistration1=false;x(A)})}.bind(this))};p.prototype.unregisterPushAndSWOnKaiOS=function(q,r,s,t){"use strict";return new h(function(u,v){this.$PushRegistration6(q,r,t).then(function(){s.unregisterPush();u()})["catch"](v)}.bind(this))};p.prototype.unregisterPushAndSW=function(q,r){"use strict";return new h(function(s,t){this.$PushRegistration6(q,r,true).then(function(){l.unregisterControllingWorker().done(s)})["catch"](t)}.bind(this))};p.prototype.unregisterPushOnly=function(q,r){"use strict";return new h(function(s,t){this.getPushSubscription().then(function(u){if(u)u.unsubscribe().then(this.$PushRegistration6(q,r,true)).then(function(){s(true)})["catch"](t);else t()}.bind(this))["catch"](t)}.bind(this))};p.pushPermissionIsPending=function(){"use strict";return window.Notification&&window.Notification.permission==="default"};p.pushPermissionIsOn=function(){"use strict";return window.Notification&&window.Notification.permission==="granted"};p.pushPermissionIsDenied=function(){"use strict";return window.Notification&&window.Notification.permission==="denied"};f.exports=p}),null);
__d("ServiceWorkerLoginAndLogout",["ClientServiceWorkerMessage"],(function a(b,c,d,e,f,g,h){function i(k){new h(k,null).sendViaController()}var j={login:function k(){i("login")},logout:function k(){i("logout")}};f.exports=j}),null);
__d("XBrowserPushDisabledController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("ServiceWorkerLoginAndLogoutListener",["KaiOSController","MobileAppDetect","MRequest","PushRegistration","Stratcom","ServiceWorkerLoginAndLogout","XBrowserPushDisabledController"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o={listen:function p(q,r,s,t){__p&&__p();l.listen("click",q,function(){__p&&__p();if(i.is_kaios){if(!t)return;var u=k.get(s,t);u.unregisterPushAndSWOnKaiOS(n,j,h,false)}else if(r==="login")m.login();else if(r==="logout")m.logout();else throw new Error("bad login type given")})}};f.exports=o}),null);